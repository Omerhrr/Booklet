
{# --- FIX: Using a unique ID and explicit hx-include for guaranteed submission --- #}
<tr id="category-edit-form-{{ category.id }}">
    <td class="px-6 py-4">
        <input type="text" name="name" value="{{ category.name }}" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white" required>
    </td>
    <td class="px-6 py-4">
        <input type="text" name="description" value="{{ category.description or '' }}" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:text-white">
    </td>
    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4">
        <button hx-put="/inventory/categories/{{ category.id }}" 
                hx-include="#category-edit-form-{{ category.id }} input"
                hx-target="#category-edit-form-{{ category.id }}" 
                hx-swap="outerHTML"
                class="text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300">
            Save
        </button>
        <button type="button" hx-get="/inventory/categories/{{ category.id }}/row" hx-target="closest tr" hx-swap="outerHTML"
                class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
            Cancel
        </button>
    </td>
</tr>
